# 高效照片压缩工具

一个使用HTML、JavaScript和Web Workers开发的浏览器端照片压缩工具，支持上传图片、调整压缩质量、实时预览效果并下载。

## 功能特点

- **浏览器端处理**：所有图片处理都在本地浏览器中完成，不会上传到任何服务器，保护用户隐私
- **多种压缩选项**：支持调整压缩质量、选择输出格式（JPEG、PNG、WebP）
- **实时预览**：压缩前后图片对比，显示尺寸和大小信息
- **强制压缩**：确保压缩后的图片尺寸和大小一定小于压缩前
- **Web Workers优化**：使用Web Workers进行后台压缩，避免阻塞主线程，提升用户体验

## 技术栈

- HTML5
- CSS3 (Tailwind CSS)
- JavaScript (ES6+)
- Web Workers

## 如何使用

1. 打开 `photo-compressor.html` 文件
2. 点击"选择图片"按钮上传需要压缩的图片
3. 调整压缩质量滑块和选择输出格式（可选）
4. 点击"开始压缩"按钮进行图片压缩
5. 查看压缩前后的对比效果
6. 点击"下载压缩图片"按钮保存压缩后的图片

## 工作原理

1. 用户上传图片后，前端读取图片数据并显示原图预览
2. 用户设置压缩参数（质量、格式）
3. 点击压缩按钮后，主页面将压缩任务发送给Web Worker
4. Web Worker在后台进行图片压缩处理：
   - 使用Canvas API绘制图片
   - 根据设置的质量和格式进行压缩
   - 如果压缩后的图片仍然大于原图，自动减小尺寸再次压缩
   - 最多尝试20次，确保压缩后图片更小
5. 压缩完成后，Web Worker将结果返回给主页面
6. 主页面显示压缩后的图片和相关信息
7. 用户可以下载压缩后的图片

## 浏览器兼容性

- Chrome (推荐)
- Firefox
- Safari
- Edge

## 注意事项

- Web Workers需要在服务器环境下运行（本地文件协议可能无法正常工作）
- 对于非常大的图片，压缩过程可能需要几秒钟时间
- WebP格式提供更好的压缩率，但某些旧浏览器可能不支持

## 本地开发

1. 克隆或下载本项目
2. 使用本地服务器（如VS Code的Live Server插件）打开项目
3. 访问 `http://localhost:5500/photo-compressor.html`

## 许可证

MIT License
